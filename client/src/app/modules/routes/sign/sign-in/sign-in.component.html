<main>
    <h1>Ingreso a AC</h1>
    <h3>Administracion de consorcios</h3>

    

    

    <div class="inputs-container">
        <!-- <app-cool-input 
            [icon]="'person'"
            [placeholder]="'Ingrese usuario'"
            [fontSize]="'16px'"
            [iconSize]="'32px'"
            [label]="'Usuario'"
            [type]="'text'"
            [onKeyDownCallback]="keyDownCallback"
            [inputControl]="formLoginGroup.controls.userControl"
            
        ></app-cool-input>
        <app-cool-input
            [icon]="'vpn_key'"
            [placeholder]="'Ingrese contraseña'"
            [fontSize]="'16px'"
            [iconSize]="'32px'"
            [label]="'Contraseña'"
            [type]="'password'"
            [onKeyDownCallback]="keyDownCallback"
            [inputControl]="formLoginGroup.controls.passwordControl"
            
        ></app-cool-input> -->

        <ng-container *ngIf="authService.isAuthenticated$ | async; else loggedOut">



            <mat-card class="login-card" *ngIf="identification">
                <mat-card-header>
                    <mat-card-title-group>
                        <mat-card-title>{{identification.nickname}}</mat-card-title>
                        <mat-card-subtitle>{{identification.email}}</mat-card-subtitle>
                        <img mat-card-avatar [src]="identification.picture" alt="identification.name">
                    </mat-card-title-group>
                    
                </mat-card-header>
                
                <mat-card-content>
                  <p *ngIf="identification.phone_number as phone">
                    phone: {{phone}}
                  </p>
                </mat-card-content>
                <mat-card-actions>
                  
                </mat-card-actions>
            </mat-card>
              

            <button
                class="btn-large btn-round"
                mat-flat-button
                color="danger"
                (click)="authService.logout({ logoutParams: { returnTo: document.location.origin } })">
                Salir
            </button>
          </ng-container>
      
          <ng-template #loggedOut>
            <button 
                class="btn-large btn-round"
                mat-flat-button
                color="accent"
                (click)="authService.loginWithPopup()">
                Ingresar
            </button>
          </ng-template>
        <!-- <button 
            class="btn-large btn-round"
            mat-flat-button
            color="accent"
            (click)="signIn()"
            [disabled]="formLoginGroup.invalid"
        >   
            <mat-spinner *ngIf="fetching; else displayText" diameter="32"></mat-spinner>
            <ng-template #displayText>
                Ingresar
            </ng-template>
        </button> -->
    </div>
</main>
